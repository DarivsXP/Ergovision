import{B as S,C as A,o as p,c as b,b as s,s as m,g as N,a as r,w as a,j as L,n as g,K as $,T as D,q as k,k as x,f as w,u as c,l as f,d as u,F as E,t as v,i as M,L as B}from"./app-CJA5RpAE.js";import{A as R}from"./ApplicationLogo-Dtbqg92a.js";import{T}from"./ToastList-CW4ZY6c5.js";const V={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:String,default:"py-1 bg-slate-900"}},setup(h){const n=h,o=k(!1),i=k(null),e=l=>{i.value&&!i.value.contains(l.target)&&(o.value=!1)};S(()=>{document.addEventListener("click",e),document.addEventListener("keydown",l=>{l.key==="Escape"&&(o.value=!1)})}),A(()=>{document.removeEventListener("click",e)});const t=x(()=>({48:"w-48"})[n.width.toString()]||"w-48"),y=x(()=>n.align==="left"?"ltr:origin-top-left start-0":n.align==="right"?"ltr:origin-top-right end-0":"origin-top");return(l,d)=>(p(),b("div",{class:"relative",ref_key:"dropdownRef",ref:i},[s("div",{onClick:d[0]||(d[0]=N(C=>o.value=!o.value,["stop"]))},[m(l.$slots,"trigger")]),r(D,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:a(()=>[L(s("div",{class:g(["absolute z-[120] mt-2 rounded-2xl shadow-2xl",[t.value,y.value]]),onClick:d[1]||(d[1]=C=>o.value=!1)},[s("div",{class:g(["rounded-2xl border border-white/10 ring-0 overflow-hidden shadow-2xl",h.contentClasses])},[m(l.$slots,"content")],2)],2),[[$,o.value]])]),_:3})],512))}},_={__name:"DropdownLink",props:{href:{type:String,required:!0}},setup(h){return(n,o)=>(p(),w(c(f),{href:h.href,class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"},{default:a(()=>[m(n.$slots,"default")]),_:3},8,["href"]))}},j={class:"min-h-screen bg-[#020617] text-slate-200 selection:bg-indigo-500/30"},U={class:"flex flex-col min-h-screen"},z={class:"sticky top-0 z-50 border-b border-white/5 bg-slate-900/60 backdrop-blur-xl"},G={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},O={class:"flex h-20 justify-between items-center"},P={class:"flex items-center gap-10"},q={class:"h-12 w-12 rounded-xl bg-indigo-600 flex items-center justify-center shadow-2xl shadow-indigo-500/40"},F={class:"hidden sm:flex items-center gap-2"},I={class:"flex items-center gap-4"},K={class:"flex items-center gap-3 p-1.5 pr-4 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-all focus:outline-none"},H={class:"h-8 w-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-xs font-black text-white uppercase"},J={class:"text-sm font-bold text-slate-200"},Q={class:"flex-1"},Z={__name:"AuthenticatedLayout",setup(h){const n=B(),o=x(()=>{const e=n.props.auth?.user;if(!e)return"Guest";const t=["User","Admin","Guest","Account"],d=(e.name&&!t.includes(e.name)?e.name:e.email?e.email.split("@")[0]:"Member").split(/[ ._]/)[0];return d.charAt(0).toUpperCase()+d.slice(1)}),i=x(()=>{try{return route().current("admin.*")}catch{return!1}});return(e,t)=>(p(),b("div",j,[r(T),s("div",U,[s("nav",z,[s("div",G,[s("div",O,[s("div",P,[r(c(f),{href:i.value?e.route("admin.dashboard"):e.route("dashboard"),class:"flex items-center gap-3 group outline-none"},{default:a(()=>[s("div",q,[r(R,{class:"h-8 w-auto fill-current text-white"})]),t[0]||(t[0]=s("span",{class:"font-black text-2xl tracking-tighter text-white uppercase"},[u(" ERGO"),s("span",{class:"text-indigo-500"},"VISION")],-1))]),_:1},8,["href"]),s("div",F,[i.value?(p(),w(c(f),{key:0,href:e.route("admin.dashboard"),class:g(["px-5 py-2 rounded-full text-xs font-black uppercase tracking-widest",e.route().current("admin.dashboard")?"bg-indigo-600 text-white":"text-slate-500 hover:text-white"])},{default:a(()=>[...t[1]||(t[1]=[u(" Analytics ",-1)])]),_:1},8,["href","class"])):(p(),b(E,{key:1},[r(c(f),{href:e.route("dashboard"),class:g(["px-5 py-2 rounded-full text-xs font-black uppercase tracking-widest",e.route().current("dashboard")?"bg-indigo-600 text-white":"text-slate-500 hover:text-white"])},{default:a(()=>[...t[2]||(t[2]=[u(" Dashboard ",-1)])]),_:1},8,["href","class"]),r(c(f),{href:e.route("camera"),class:g(["px-5 py-2 rounded-full text-xs font-black uppercase tracking-widest",e.route().current("camera")?"bg-indigo-600 text-white":"text-slate-500 hover:text-white"])},{default:a(()=>[...t[3]||(t[3]=[u(" Monitor ",-1)])]),_:1},8,["href","class"])],64))])]),s("div",I,[c(n).props.auth?.user?.is_admin?(p(),w(c(f),{key:0,href:i.value?e.route("dashboard"):e.route("admin.dashboard"),class:"text-[10px] font-black uppercase tracking-widest px-4 py-2 rounded-lg border border-indigo-500/30 text-indigo-400 hover:bg-indigo-500/10"},{default:a(()=>[u(v(i.value?"User Mode":"Admin Mode"),1)]),_:1},8,["href"])):M("",!0),r(V,{align:"right",width:"48"},{trigger:a(()=>[s("button",K,[s("div",H,v(o.value.charAt(0)),1),s("span",J,v(o.value),1)])]),content:a(()=>[r(_,{href:e.route("profile.edit"),class:"text-slate-400 hover:text-white px-4 py-3"},{default:a(()=>[...t[4]||(t[4]=[u(" Profile Settings ",-1)])]),_:1},8,["href"]),t[6]||(t[6]=s("div",{class:"h-px bg-white/5 my-1 mx-2"},null,-1)),r(_,{href:e.route("logout"),method:"post",as:"button",class:"w-full text-left text-rose-400 hover:bg-rose-500/10 px-4 py-3"},{default:a(()=>[...t[5]||(t[5]=[u(" Sign Out ",-1)])]),_:1},8,["href"])]),_:1})])])])]),s("main",Q,[m(e.$slots,"default")])])]))}};export{Z as _};
